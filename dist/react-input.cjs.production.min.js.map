{"version":3,"file":"react-input.cjs.production.min.js","sources":["../src/with-composition.tsx","../src/input.tsx","../src/textarea.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nexport interface Props {\n  value?: string;\n  onChange: (x: string) => void;\n}\n\ntype InputType = 'input' | 'textarea';\n\nfunction withComposition<T extends Props>(\n  WrappedComponent: React.ComponentType<T> | InputType\n) {\n  const Inner: React.FC<T & Props> = props => {\n    const [composing, setComposing] = useState(false);\n    const [text, setText] = useState<string>(props.value || '');\n    const onComposition = (e: React.FormEvent<HTMLInputElement>) => {\n      const type = e.type;\n      const value = e.currentTarget.value;\n\n      if (type === 'compositionstart') {\n        setComposing(true);\n      } else if (type === 'compositionend') {\n        setComposing(false);\n        setText(value);\n        props.onChange(value);\n      }\n    };\n    const onChange = (e: React.FormEvent<HTMLInputElement>) => {\n      setText(e.currentTarget.value);\n\n      if (!composing) {\n        props.onChange(e.currentTarget.value);\n      }\n    };\n\n    return React.createElement(\n      WrappedComponent,\n      Object.assign({}, props, {\n        value: text,\n        onChange: onChange,\n        onCompositionStart: onComposition,\n        onCompositionEnd: onComposition,\n      })\n    );\n  };\n\n  return Inner;\n}\n\nexport default withComposition;\n","import withComposition from './with-composition';\n\nconst Input = withComposition('input');\n\nexport default Input;\n","import withComposition from './with-composition';\n\nconst Textarea = withComposition('textarea');\n\nexport default Textarea;\n"],"names":["withComposition","WrappedComponent","props","useState","composing","setComposing","value","setText","onComposition","e","type","currentTarget","onChange","React","createElement","Object","assign","onCompositionStart","onCompositionEnd","Input","Textarea"],"mappings":"oJASA,SAASA,EACPC,UAEmC,SAAAC,SACCC,YAAS,GAApCC,OAAWC,SACMF,WAAiBD,EAAMI,OAAS,IAA3CC,OACPC,EAAgB,SAACC,OACfC,EAAOD,EAAEC,KACTJ,EAAQG,EAAEE,cAAcL,MAEjB,qBAATI,EACFL,GAAa,GACK,mBAATK,IACTL,GAAa,GACbE,EAAQD,GACRJ,EAAMU,SAASN,YAWZO,EAAMC,cACXb,EACAc,OAAOC,OAAO,GAAId,EAAO,CACvBI,WACAM,SAZa,SAACH,GAChBF,EAAQE,EAAEE,cAAcL,OAEnBF,GACHF,EAAMU,SAASH,EAAEE,cAAcL,QAS/BW,mBAAoBT,EACpBU,iBAAkBV,MCvC1B,IAAMW,EAAQnB,EAAgB,SCAxBoB,EAAWpB,EAAgB"}